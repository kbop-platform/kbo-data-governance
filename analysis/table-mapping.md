# 테이블 인벤토리 분석

> 분석 일시: 2026-02-23
> 데이터 소스:
> - **MSSQL 백업DB**: 네이버 클라우드 `49.50.172.83:1433` (S2i가 경기 당일 전송하여 지속 현행화)
> - **Excel 비교표**: `S2i_KBOP 백업 DB 테이블별 데이터 확인_260220.xlsx` (2026.02.20)
> - **Excel 국제대회**: `S2i_KBOP DB 보유 국제대회 목록_260220.xlsx` (2026.02.20)

---

## 1. 핵심 요약

### 데이터 구조

```
S2i 운영DB ──경기 당일 전송──→ 백업DB (네이버 클라우드)

DB2 (시즌 데이터)  ──확정──→  DB1 (영구 누적 데이터)
```

- **DB1**: 확정된 영구/누적 데이터 (전 시즌 통합)
- **DB2**: 당시즌 경기 데이터 (경기 종료 시 즉시 적재, 확정 후 DB1 반영)
- **Excel 2건** = S2i가 KBO에 데이터 제공을 확정한 **공식 테이블 목록**
- 이 외 파생/가공 데이터(pitch-to-pitch, 세이버메트릭스 등)는 S2i 미제공 → **KBO 자체 구축 필요**

### 수량 요약

| 구분 | MSSQL 백업DB | Excel 비교표 | 비고 |
|------|-------------|-------------|------|
| DB 수 | 17개 | 17개 | **완전 일치** |
| 테이블 인스턴스 | 252개 | 248개 | 차이 4개 (KBOP 자체 테이블) |
| 고유 테이블명 | 40종 | — | 대소문자 무시 기준 |
| 총 행 수 | 25,691,811 | — | |
| S2i 매핑 있음 | — | 192개 | 비교 가능 |
| S2i 매핑 없음 | — | 56개 | 국제대회 21 + 기타 35 |

---

## 2. DB 목록

### 2.1 DB1 (영구/누적) — 4개

| DB명 | 테이블 수 | 총 행 수 | 용도 |
|------|----------|---------|------|
| DB1_BASEBALL_220328 | 15 (13+2자체) | 5,237,736 | 1군 누적 |
| DB1_BASEBALL_2_220328 | 4 | 695,053 | 1군 시즌별 선수 통계 |
| DB1_MINOR_BASEBALL_220328 | 9 | 1,676,024 | 2군 누적 |
| DB1_MINOR_SO_BASEBALL | 9 | 25,796 | 2군 SO리그 누적 |

### 2.2 DB2 (시즌/진행) — 13개

| DB명 | 테이블 수 | 총 행 수 | 용도 |
|------|----------|---------|------|
| DB2_BASEBALL_220328 | 19 (18+1자체) | 874,215 | 1군 정규시즌 |
| DB2_BASEBALL_2_220328 | 5 | 470,448 | 1군 시즌별 선수 통계 |
| DB2_BASEBALL_NEW_220328 | 16 (15+1자체) | 9,942,740 | 1군 실시간/스케줄/마스터 |
| DB2_MINOR_BASEBALL_220328 | 17 | 491,954 | 2군 정규시즌 |
| DB2_MINOR_BASEBALL_NEW_220328 | 8 | 5,034,305 | 2군 실시간 |
| DB2_MINOR_SO_BASEBALL | 15 | 16,025 | 2군 SO리그 |
| DB2_MINOR_SO_BASEBALL_NEW | 8 | 8,746 | 2군 SO리그 실시간 |
| DB2_POSTSEASON | 21 | 297,976 | 포스트시즌 |
| DB2_MINOR_POSTSEASON | 21 | 2,568 | 2군 포스트시즌 |
| DB2_ALLSTAR | 20 | 25,119 | 올스타전 |
| DB2_EXHIBITION | 24 | 852,751 | 시범경기 |
| DB2_OTHER_GAME | 20 | 9,658 | 기타 경기 |
| DB2_INTERNATIONAL | 21 | 30,697 | 국제대회 (38개 대회) |

### 2.3 현행화 상태

| 리그 | 데이터 범위 | 비고 |
|------|-----------|------|
| 1군 정규시즌 | ~2025 시즌 종료 | 작년 말 기준 |
| 퓨처스 리그 | ~2026.02 초 | 약 20일 전까지 |
| 포스트시즌 | ~2025 포스트시즌 | |
| 국제대회 | 2002~2025 (38개 대회) | |

> DB명의 `_220328`은 최초 백업 일자. 데이터는 S2i가 경기 당일 전송하여 지속 갱신 중.

---

## 3. 고유 테이블 목록 (40종)

대소문자 무시 기준. DB간 동일 테이블이 반복 배치됨.

### 3.1 경기 기록 테이블 (13종)

| 테이블명 | 컬럼 | 설명 | DB1 | DB2 | 총 DB |
|---------|------|------|-----|-----|-------|
| `GAMEINFO` | 27 | 경기 기본정보 (구장, 날씨, 관중 등) | 3 | 9 | 12 |
| `GAMECONTAPP` | 29 | 경기 진행 상세 (투구/타석별) | 3 | 9 | 12 |
| `ENTRY` | 11~12 | 출전 선수 엔트리 | 3 | 9 | 12 |
| `Hitter` | 26 | 타자 경기 기록 | 3 | 9 | 12 |
| `Pitcher` | 36 | 투수 경기 기록 | 3 | 9 | 12 |
| `Score` | 60 | 이닝별 점수 (피벗형) | 3 | 9 | 12 |
| `BatTotal` | 22~23 | 타격 통산/시즌 합계 | 1 | 8 | 9 |
| `PitTotal` | 21~22 | 투구 통산/시즌 합계 | 1 | 8 | 9 |
| `TeamRank` | 29~30 | 팀 순위 | 3 | 9 | 12 |
| `DEFEN` | 12 | 수비 기록 | 1 | 1 | 2 |
| `GAME_HR` | 15 | 홈런 기록 | 1 | 1 | 2 |
| `GAME_MEMO` | 20 | 경기 메모/특이사항 | 1 | 1 | 2 |
| `GAME_MEMO_PITCHCLOCK` | 16 | 피치클락 관련 메모 | 1 | 1 | 2 |

### 3.2 실시간/인터페이스 테이블 (9종)

| 테이블명 | 컬럼 | 설명 | DB2 수 |
|---------|------|------|--------|
| `IE_LiveText` | 7 | 실시간 문자중계 | 9 |
| `IE_BatterRecord` | 25 | 타자 실시간 기록 | 9 |
| `IE_PitcherRecord` | 22 | 투수 실시간 기록 | 9 |
| `IE_BallCount` | 11 | 볼카운트 | 9 |
| `IE_Scoreinning` | 5 | 이닝별 점수 (실시간) | 9 |
| `IE_ScoreRHEB` | 7 | R/H/E/B 요약 | 9 |
| `IE_GameList` | 6 | 경기 목록 | 9 |
| `IE_GAMESTATE` | 5 | 경기 상태 | 9 |
| `IE_log` | 3 | 입력 로그 | 1 |

### 3.3 결과/집계 테이블 (3종)

| 테이블명 | 컬럼 | 설명 | DB2 수 |
|---------|------|------|--------|
| `KBO_BATRESULT` | 65~90 | 타석별 상세 결과 (피벗형) | 9 |
| `KBO_PITRESULT` | 23 | 투수 결과 집계 | 9 |
| `KBO_ETCGAME` | 5 | 기타 경기 이벤트 | 9 |

### 3.4 스케줄/마스터 테이블 (8종)

| 테이블명 | 컬럼 | 설명 | DB 수 |
|---------|------|------|-------|
| `KBO_schedule` | 15~22 | 경기 일정 | 3 |
| `person` | 20 | 선수 마스터 | 2 |
| `person2` | 17 | 선수 마스터 v2 | 1 |
| `PERSON` | 16 | 선수 (2군용) | 2 |
| `PERSON_FA` | 4 | FA 정보 | 1 |
| `TEAM` | 7 | 팀 마스터 | 3 |
| `STADIUM` | 3 | 구장 마스터 | 2 |
| `CANCEL_GAME` | 6 | 취소 경기 | 1 |

### 3.5 시즌 선수 통계 테이블 (4종)

| 테이블명 | 컬럼 | 설명 | DB 수 |
|---------|------|------|-------|
| `SEASON_PLAYER_HITTER` | 43 | 시즌별 타자 통계 | 3 |
| `SEASON_PLAYER_PITCHER` | 54 | 시즌별 투수 통계 | 3 |
| `SEASON_PLAYER_HITTER_SITUATION` | 14 | 상황별 타자 통계 | 3 |
| `SEASON_PLAYER_PITCHER_SITUATION` | 14 | 상황별 투수 통계 | 3 |

### 3.6 기타 (3종)

| 테이블명 | 설명 | 비고 |
|---------|------|------|
| `GAMEINFO_WEATHER` | 기상 데이터 | DB2_BASEBALL에만 (S2i 전송 안함) |
| `PITCHCLOCK` | 피치클락 위반 | 4개 DB (S2i 전송 안함) |
| `dtproperties` | MSSQL 시스템 속성 | KBOP 자체 |
| `oauth2_registered_client` | OAuth2 클라이언트 | KBOP 자체 |

---

## 4. MSSQL ↔ Excel 비교

### 4.1 DB 수: 완전 일치 (17개)

모든 DB가 양쪽에 존재. MSSQL에만 있거나 Excel에만 있는 DB 없음.

### 4.2 테이블 수: 거의 일치 (248 vs 252)

| DB | MSSQL | Excel | 차이 | MSSQL에만 있는 것 |
|----|-------|-------|------|-----------------|
| DB1_BASEBALL_220328 | 15 | 13 | +2 | `dtproperties`, `oauth2_registered_client` |
| DB2_BASEBALL_220328 | 19 | 18 | +1 | `dtproperties` |
| DB2_BASEBALL_NEW_220328 | 16 | 15 | +1 | `dtproperties` |
| 나머지 14개 DB | — | — | 0 | — |

> **차이 원인**: 4개 모두 KBOP가 자체 생성한 유틸리티 테이블. S2i가 Excel에서 제외하고 보낸 것.

### 4.3 Excel에만 있는 테이블: 0개

MSSQL 백업DB에 Excel의 모든 테이블이 존재한다.

---

## 5. S2i 비교 현황 (Excel 기준)

### 5.1 전체 요약

| 구분 | 수량 | 비율 |
|------|------|------|
| S2i 매핑 있음 (양쪽 비교 가능) | **192개** | 77% |
| S2i 매핑 없음 (백업에만) | **56개** | 23% |
| S2i에만 있음 | **0개** | 0% |

### 5.2 S2i 매핑 192개 — 일치/불일치

| 항목 | 일치 | 불일치 | 일치율 |
|------|------|--------|-------|
| **컬럼 수** | 117 | 75 | 61% |
| **행 수** | 108 | 84 | 56% |
| **둘 다 일치** | 57 | — | 30% |

### 5.3 컬럼 수 차이 (75개)

#### S2i가 더 많은 경우 (61개)

| 차이 | 수량 | 비고 |
|------|------|------|
| **+1** | **49개** | 대부분의 테이블 — S2i가 공통 관리컬럼 1개 추가 추정 |
| +2~6 | 11개 | DEFEN(+6), GAME_MEMO(+5), IE_BatterRecord(+2) 등 |
| +9 | 1개 | KBO_SCHEDULE (15→24, 2군) |

#### 백업이 더 많은 경우 (14개)

| 차이 | 수량 | 비고 |
|------|------|------|
| **-25** | 4개 | KBO_BATRESULT (90→65): 올스타/시범/PO/2군PO |
| **-20** | 3개 | Score (60→40): 올스타/PO/2군PO |
| -1 | 7개 | ENTRY(6), KBO_SCHEDULE(1) |

> KBO_BATRESULT, Score의 대폭 감소는 S2i가 특수 경기에서 연장 이닝 컬럼을 축소한 것으로 추정.

### 5.4 행 수 차이 (84개)

행 차이는 데이터 공백이 아니라 **전송 시점/범위 차이**.

| 사유 (S2i가 더 많은 67개) | 수량 |
|--------------------------|------|
| IE_* 전송 범위 2004년 이후 제한 | 24 |
| 2025 퓨처스 미전송 | 9 |
| 2020 시범경기 미전송 | 8 |
| 2군 SO 초기 데이터 미전송 | 8 |
| 기타 (특정 경기 누락, 내부 이동 등) | 18 |

| 사유 (백업이 더 많은 17개) | 수량 |
|--------------------------|------|
| S2i가 데이터 정리/이동 | 4 |
| 시즌별 소규모 차이 | 13 |

### 5.5 테이블명 차이

95개 인스턴스에서 백업↔S2i 테이블명이 다르나, 유형별로 정리하면:

| 유형 | 수량 | 예시 |
|------|------|------|
| **대소문자만 다름** | 69개 | `ENTRY`→`Entry`, `GAMEINFO`→`gameinfo` |
| **_TOT 접미사** | 10개 | `DEFEN`→`Defen_TOT`, `KBO_BATRESULT`→`KBO_BATRESULT_TOT` |
| **_6666 접미사** | 12개 | `BatTotal`→`BatTotal_6666` (DB2_OTHER_GAME 전체) |
| **_VIEW 접미사** | 2개 | `KBO_SCHEDULE`→`KBO_SCHEDULE_VIEW` |
| **완전 다른 이름** | 2개 | `GAME_HR`→`RECORD_HR` |

### 5.6 S2i 매핑 없는 56개 분류

| 분류 | 수량 | 상세 |
|------|------|------|
| **DB2_INTERNATIONAL 전체** | 21 | 국제대회 DB — 별도 Excel에 38개 대회 목록 존재 |
| **SEASON_PLAYER_* 시리즈** | 12 | "KBO 홈페이지 기준 확인" — DB1_2, DB2_2, EXHIBITION |
| **마스터/참조** | 8 | PERSON(2), TEAM(3), STADIUM(2), CANCEL_GAME(1) — "별도 확인" |
| **전송 안함** | 6 | PITCHCLOCK(4), GAMEINFO_WEATHER(1), IE_log(1) |
| **전송 안함 (마스터)** | 3 | person2(1), PERSON_FA(1), person(1) |
| **빈 테이블 (0행)** | 6 | 올스타/2군PO의 BatTotal, PitTotal, TeamRank |

---

## 6. 국제대회 (38개, 2002~2025)

DB2_INTERNATIONAL에 저장. 21개 테이블, 30,697행.

| 분류 | 대회 수 | 주요 대회 |
|------|---------|----------|
| 아시안게임 | 6 | 2002 부산 ~ 2022 항저우 |
| WBC | 5 | 2006, 2009, 2013, 2017, 2023 |
| 올림픽 | 2 | 2008 베이징, 2020 도쿄 |
| 프리미어12 | 3 | 2015, 2019, 2024 |
| 아시아시리즈/코나미컵 | 6 | 2006~2013 |
| 평가전 | 5 | AG/WBC/P12/올림픽 평가전 |
| 기타 | 11 | 챔피언십, MLB 서울시리즈, K-BASEBALL SERIES 등 |

---

## 7. 데이터 규모 (상위 테이블)

### 행 수 기준 상위 20

| 순위 | DB | 테이블 | 행 수 | 컬럼 |
|------|-----|--------|-------|------|
| 1 | DB2_BASEBALL_NEW | IE_LiveText | 8,005,079 | 7 |
| 2 | DB2_MINOR_BASEBALL_NEW | IE_LIVETEXT | 4,506,413 | 7 |
| 3 | DB1_BASEBALL | GAMECONTAPP | 2,531,702 | 29 |
| 4 | DB1_MINOR_BASEBALL | GAMECONTAPP | 975,096 | 29 |
| 5 | DB1_BASEBALL | DEFEN | 846,736 | 12 |
| 6 | DB1_BASEBALL | ENTRY | 854,280 | 11 |
| 7 | DB2_BASEBALL_NEW | IE_log | 785,406 | 3 |
| 8 | DB1_BASEBALL | Hitter | 648,248 | 26 |
| 9 | DB2_EXHIBITION | IE_LiveText | 480,083 | 7 |
| 10 | DB2_BASEBALL_NEW | IE_BatterRecord | 451,166 | 25 |
| 11 | DB2_BASEBALL | KBO_BATRESULT | 424,921 | 90 |
| 12 | DB1_BASEBALL_2 | SEASON_PLAYER_HITTER_SITUATION | 360,625 | 14 |
| 13 | DB1_MINOR_BASEBALL | ENTRY | 334,439 | 12 |
| 14 | DB1_BASEBALL_2 | SEASON_PLAYER_PITCHER_SITUATION | 301,375 | 14 |
| 15 | DB2_MINOR_BASEBALL_NEW | IE_BATTERRECORD | 263,107 | 25 |
| 16 | DB1_MINOR_BASEBALL | HITTER | 239,888 | 26 |
| 17 | DB2_BASEBALL_2 | SEASON_PLAYER_HITTER_SITUATION | 228,487 | 14 |
| 18 | DB1_BASEBALL | Pitcher | 223,624 | 36 |
| 19 | DB2_MINOR_BASEBALL | KBO_BATRESULT | 221,839 | 65 |
| 20 | DB2_BASEBALL_2 | SEASON_PLAYER_PITCHER_SITUATION | 214,288 | 14 |

### DB별 데이터 규모 분포

| DB 유형 | DB 수 | 총 행 수 | 비중 |
|---------|-------|---------|------|
| DB1 (영구) | 4 | 7,634,609 | 30% |
| DB2 (시즌) | 13 | 18,057,202 | 70% |
| **합계** | **17** | **25,691,811** | 100% |

> DB2가 70%를 차지하는 이유: IE_LiveText(실시간 문자중계)가 1,250만 행으로 전체의 절반.

---

## 8. 정리

### 백업DB ↔ Excel: 사실상 동일

- 17개 DB 완전 일치
- 248개 테이블 완전 일치 (MSSQL에 KBOP 자체 유틸리티 4개 추가)
- Excel = S2i가 데이터 제공을 확정한 공식 목록

### 백업DB ↔ S2i DB: 대체로 동일, 부분 차이

- 192개 비교 가능 중 **30%만 완전 동일** (컬럼+행 모두)
- 컬럼 차이: 49개 테이블에서 S2i가 +1 컬럼 (관리용 추정)
- 행 차이: 전송 시점/범위 차이 (데이터 공백 아님)
- 테이블명 차이: 대소문자(69), _TOT(10), _6666(12), _VIEW(2), 완전 다름(2)

### S2i 미제공 영역 (KBO 자체 구축 필요)

| 영역 | 설명 |
|------|------|
| 파생/가공 테이블 | pitch-to-pitch 등 S2i 내부 보유, 미제공 |
| 세이버메트릭스 | wRC+, WHIP, WAR, FIP, OPS+ 등 |
| 상황별 세분 통계 | 주자 상황별, 볼카운트별 등 |
| 전송 제외 데이터 | PITCHCLOCK(4), GAMEINFO_WEATHER, person2, IE_log, PERSON_FA |
